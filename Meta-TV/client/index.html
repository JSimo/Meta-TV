<template name="slideshow">
	<div class="hoverinfo">
		<a href="#" class="fullscreen">Fullscreen</a><br>
		<a href="/slides">Add slides</a>
	</div>
	<div class="content">
		{{#if equals current.type "youtube"}}
			<iframe width=100% height=100%
				src="//www.youtube.com/embed/{{current.link}}?autoplay=1&showinfo=0&controls=0"
				frameborder="0" allowfullscreen>
			</iframe>
		{{else}}
			<img src="{{current.link}}">
		{{/if}}
	</div>
</template>

<template name="slides">
	{{> loginButtons align="right"}}
	<div class="slides">
		<h1>Slides</h1>
		{{#each slides}}
			{{> slide}}
		{{/each}}
		{{#if currentUser}}
			<h1>Add</h1>
			<table>
				<tr>
					<td>Type</td>
					<td>
						<select class="type">
							<option value="external img">external img</option>
							<option value="local img">local img</option>
							<option value="youtube">youtube</option>
						</select>
					</td>
				</tr>
				<tr>
				{{#if isYoutube}}
					<td>Video id</td>
					<input class="link" type="text">
				{{else}}
					{{#if internal}}
						<td>File</td>
						<input class="file" type="file"/>
						<td class="error"> {{internal_filetype_error}} </td>
					{{else}}
						<td>Link</td>
						<td>
							<input class="link" type="text">
						</td>
						<td class="error">{{link_input_error}}</td>
					{{/if}}
				{{/if}}
				</tr>
				<tr>
					<td>Expire</td>
					<td>
						<input class="expire" type="date">
					</td>
				</tr>
				<tr>
					<td></td>
					<td>
						<button class="send">Send</button>
					</td>
				</tr>
			</table>
		{{/if}}
		<div class="Policy">
			<h1>Policy</h1>
			<p>All KTH students can post there own slides and or remove others. Please no NSFW. Everythings is logged. I SEE YOU.</p>
		</div>
		{{> footer}}
	</div>
</template>

<template name="footer">
	<footer>
		Created by <a href="http://sootn.se">Andreas Linn</a>
	</footer>
</template>

<template name="slide">
	<article>
		{{#if equals type "youtube"}}
			<img src="http://img.youtube.com/vi/{{link}}/0.jpg">
		{{else}}
			<img src="{{link}}">
		{{/if}}
		<table>
			<tr>
				<td>id</td>
				<td>{{_id}}</td>
			</tr>
			<tr>
				<td>Type</td>
				<td>{{type}}</td>
			</tr>
			<tr>
				<td>Expire</td>
				<td>
					<date>{{#if expire}} {{expire}} {{else}} Never {{/if}}</date>
				</td>
			</tr>
			<tr>
				<td>Created by</td>
				<td>
					<date>{{createdBy}}</date>
				</td>
			</tr>
			<tr>
				<td>Actions</td>
				<td>
					<button class="remove">Remove</button>
				</td>
			</tr>
		</table>
	</article>
	<hr>
</template>
